\newcommand{\bitmaparea}[4]{
    \index{#1}
    \pbodyitem{#2}{
        \textbf{Pixel Dimensions:} {#3} \newline
        {#4}
    }
}

\subsection{BitMap}
Bitmaps are 2-dimensional arrays of arbitrary-dimension pixels.
Sub-bitmap pixels are of arbitrary dimensions due to their varied use: In some contexts, they are representative of 3-channel RGB images, while others are simply binary maps, which are used in successive processes to build the \index{Output Image}output image.

The universal facade with which other systems can interact with this module is \bmftype.
These methods are forwarded directly to a referenced \bmctype.
It exposes the following functionality:
\begin{itemize}
    \pbodyitem{Creation}{
        Client code may `check-out' \bmtype\space objects.
        These are potentially recycled heap objects.
    }
    \pbodyitem{Destruction}{
        Client code may `check-in' \bmtype\space object with which it has no more use.
        These objects will be `washed' once they are `checked out' once again.
    }
\end{itemize}

The following types are also members of this module, but probably shouldn't be used directly.  Instead, the client code should access the functionality through \bmftype:
\begin{itemize}
    \component{BitMapBuilder}{BitMapBuilder}{
        Provides type-safe incremental construction of \bmtype s.
    }
    \component{BitMap}{BitMap}{
        Stores data relevant to the individual matrices.
    }
\end{itemize}

\lidiagram{diagrams/subsystems/bitmap}
{Bitmap subsystem components.}
{fig:bitmap_components}


\subsubsection{Usage}
\bmtype s are used in the following components outside of the \bmmod\ subsystem:
\begin{itemize}
    \bitmaparea{Output Image}{Output Image}{3}{
        An output image is generated by following the prescribed algorithm as described in \prettyref{apx:algorithm}.
        This image is costly to build, so is not generated until requested by the user.
    }
    \bitmaparea{Preview Image}{Preview Image}{3}{
        A preview is generated which is composed of cacheable, fine-grained layers.
        This image should be optimized for speed.
    }
    \bitmaparea{Parameters!Source Image}{Source Image}{3}{
        The input image is supplied by the user.
    }
    \bitmaparea{Parameters!Glyph Path Kernel}{Glyph Path Kernel}{1}{
        The per-layer, user-defined area from which the glyph path will be generated.
        This image must be saved with the document for the glyph path to be regenerated.
    }
    \bitmaparea{Path Dilation Mask}{Path Dilation Mask}{1}{
        The per-layer mask defines the extent of the glyph path.
    }
\end{itemize}



